<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>bideo test</title>
    <!-- meta tag for ie9 -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <style id="normalize">
    html, body, div, span, applet, object, iframe,
    h1, h2, h3, h4, h5, h6, p, blockquote, pre,
    a, abbr, acronym, address, big, cite, code,
    del, dfn, em, img, ins, kbd, q, s, samp,
    small, strike, strong, sub, sup, tt, var,
    b, u, i, center,
    dl, dt, dd, ol, ul, li,
    fieldset, form, label, legend,
    table, caption, tbody, tfoot, thead, tr, th, td,
    article, aside, canvas, details, embed,
    figure, figcaption, footer, header, hgroup,
    menu, nav, output, ruby, section, summary,
    time, mark, audio, video {
    	margin: 0;
    	padding: 0;
    	border: 0;
    	font-size: 100%;
    	font: inherit;
    	vertical-align: baseline;
    }
    /* HTML5 display-role reset for older browsers */
    article, aside, details, figcaption, figure,
    footer, header, hgroup, menu, nav, section {
    	display: block;
    }
    body {
    	line-height: 1;
    }
    ol, ul {
    	list-style: none;
    }
    blockquote, q {
    	quotes: none;
    }
    blockquote:before, blockquote:after,
    q:before, q:after {
    	content: '';
    	content: none;
    }
    table {
    	border-collapse: collapse;
    	border-spacing: 0;
    }
    </style>
    <style>
    .container {
      width: 100%;
      height: 100vh;
      background-color: #ffee00;
    }
    .bideoBox {
      width: auto;
      height: 160px;
      position: absolute;
      top: 50%;
      left: 50%;
      margin: -90px -80px;
      background-color: #ffff44;
    }

    .seq {
      background-image: url('./assets/imgs/seq_sample.png');
      width: 90px;
      height: 160px;
      display: inline-block;
    }
    .seq.left {
      background-position: 0 -160px;
    }
    .seq.right {
      background-position: 0 -320px;
    }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="bideoBox">
        <div class="seq left"></div>
        <div class="seq right"></div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="./dist/bideo.js"></script>
    <script>
      $(function () {
        var leftClip = Bideo({selector: '.seq.left'});
        var rightClip = Bideo({selector: '.seq.right'});

        function trackingClientX(evt, callback) {
          var delay = 300;
          var beforeX = 0;
          var direction = 'left';
          if (evt.type === 'mouseenter') {
            beforeX = evt.pageX;
          } else {
            if (beforeX < evt.pageX) {
              direction = 'left';
            } else {
              direction = 'right';
            }
            callback && callback(direction);
          }
        }

        var mouseEventHandler = (function() {
          var beforeX = 0;
          return function (evt) {
            if (evt.type === 'mouseenter') {
              beforeX = evt.pageX;
              console.log(beforeX);
            } else {
              console.log(beforeX, evt.pageX);
              if (beforeX < evt.pageX) {
                //right
                rightClip.play();
              } else {
                leftClip.play();
              }
            }
          }
        }());

        $('body').on('mouseenter mouseleave', '.bideoBox', mouseEventHandler);

      });


    </script>
  </body>
</html>
